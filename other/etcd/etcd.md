## etcd学习 

首先先来了解下ralf算法  

#### why ralf 

假如我们有某一个业务要实现数据存储方面的功能，最简单方法是实现一个节点，所有的数据读写
都是通过这一个节点，但是这样会存在各种各样的问题，比如数据量增大后无法承受压力，单节点
如何向多结点分布，数据一致性如何保证，最严重的就是数据结点挂掉了，数据全部丢失了。  

#### replication

为了结点损坏的问题，业界通用的方案是采用Replication，在Master写数据的时候挂多个Slave
写完后保证将log同步到Slave,这样的流程下来才能认为是成功的。  

通常情况为了保证性能，我们都会使用异步复制（Async Replication），不过会产生一些问题。
当Master挂掉之后很有可能有些数据并没有同步到Slave,这时候如果把这个Slave提升到新的Master
就会面临数据丢失的问题。  

强同步（Sync Replication）解决了异步复制（Async Replication）可能潜在的问题。Master
写入数据后必须保证Slave接受到log写入才算成功，当然这样会损耗一些性能，不过最严重的在于
Master挂掉后，Slave提升为Master,单节点的问题又出现了。　　　

为了保证系统中N台节点挂掉后，然能够对外提供服务，至少需要2N+1台机器，也就是传统的Quorum，
这样至少就需要三台机器，但是数量增大也会带来更多的问题。　　

首先Master挂掉后需要判断该提升哪个Slave为新的Master。另外在多态集群下还容易遇到一个问
题，就是在网络情况下以前的Master出现网络隔离，还在继续对外提供服务，而这时新的集群和
Master已经形成了，新的数据被写入到新的Master，可是读取的却是旧的数据，这就是在分布式
一致性领域所面临的线性一直性问题。　　

#### Consensus Algorithm

一致性算法（Consensus Alogrithm）就是为了解决分布式集群所面临的诸多问题而准备的。他保证了
系统在多个状态上的Agreement，另外在集群的大部分节点挂掉后能保证数据一致性。　











###【引用】https://unordered.org/timelines/59c972d970c01000





  
