## pgsql中的lateral

我们先来看官方对lateral的定义

> 可以在出现于FROM中的子查询前放置关键词LATERAL。这允许它们引用前面的FROM项提供的列（如果没有
> LATERAL，每一个子查询将被独立计算，并且因此不能被其他FROM项交叉引用）。  
> 出现在FROM中的表函数的前面也可以被放上关键词LATERAL,但对于关键词的不可选的，在任何情况下函
> 数的参数都可以包含前面FROM项提供额列的引用。  
> 一个LATERAL项可以出现在FROM列表项层，或者出现在一个JOIN树中。在后者如果出现在JOIN的右部，
> 那么可以引用在JOIN左部分的任何项。  
> 如果一个FROM项包含LATERAL交叉引用，计算过程中：对于提供交叉引用列的FROM项的每一行，或者
> 多个提供这些列的多个FROM项进行集合，LATERAL项将被使用该行或者行集中的列值进行计算。得到结
> 果行将和它们被计算出来的行进行正常的连接。对于来自这些列的源表的每一行或行集，该过程将重复。